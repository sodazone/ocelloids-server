<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="https://soda.zone/favicon-32x32.png">
    <title>UMD Client Library Test</title>
    <script src="/lib.umd.js"></script>
    <style>
      html {
        height: 100%;
      }
      body {
        background-image: radial-gradient( circle 325px at 19.2% 64.8%,  rgba(254,62,101,1) 9.7%, rgba(166,24,146,1) 91.3% );
        color: #BADA55;
        height: 100%;
        padding: 0;
        margin: 0;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    </style>
  </head>
  <body>
    <h1>
      &lt;open the developer console&gt;
    </h1>
    <script>
      const css = "background-image: linear-gradient( 58.2deg,  rgba(40,91,212,0.73) -3%, rgba(171,53,163,0.45) 49.3%, rgba(255,204,112,0.37) 97.7% ); color: #BADA55";
      const oc = new xcmon.OcelloidsClient({
        httpUrl: 'http://127.0.0.1:3000',
        wsUrl: 'ws://127.0.0.1:3000',
      });
      oc.get('moonbeam-transfers')
        .then(s => console.log("%c" + JSON.stringify(s), css))
        .catch(err => console.error(err));
      oc.subscribe('moonbeam-transfers', {
        onMessage: m => console.log("%c" + JSON.stringify(m), css)
      });
    </script>
  </body>
</html>